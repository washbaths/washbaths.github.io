(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function l(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerpolicy&&(i.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?i.credentials="include":o.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(o){if(o.ep)return;o.ep=!0;const i=l(o);fetch(o.href,i)}})();function q(){}function dt(t){return t()}function nt(){return Object.create(null)}function j(t){t.forEach(dt)}function ft(t){return typeof t=="function"}function mt(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function kt(t){return Object.keys(t).length===0}function g(t,e){t.appendChild(e)}function B(t,e,l){t.insertBefore(e,l||null)}function M(t){t.parentNode&&t.parentNode.removeChild(t)}function pt(t,e){for(let l=0;l<t.length;l+=1)t[l]&&t[l].d(e)}function m(t){return document.createElement(t)}function K(t){return document.createTextNode(t)}function L(){return K(" ")}function S(t,e,l,n){return t.addEventListener(e,l,n),()=>t.removeEventListener(e,l,n)}function N(t,e,l){l==null?t.removeAttribute(e):t.getAttribute(e)!==l&&t.setAttribute(e,l)}function yt(t){return Array.from(t.childNodes)}function Y(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}let et;function W(t){et=t}const U=[],lt=[],V=[],rt=[],bt=Promise.resolve();let tt=!1;function vt(){tt||(tt=!0,bt.then(ht))}function X(t){V.push(t)}const x=new Set;let Q=0;function ht(){const t=et;do{for(;Q<U.length;){const e=U[Q];Q++,W(e),wt(e.$$)}for(W(null),U.length=0,Q=0;lt.length;)lt.pop()();for(let e=0;e<V.length;e+=1){const l=V[e];x.has(l)||(x.add(l),l())}V.length=0}while(U.length);for(;rt.length;)rt.pop()();tt=!1,x.clear(),W(t)}function wt(t){if(t.fragment!==null){t.update(),j(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(X)}}const $t=new Set;function Ct(t,e){t&&t.i&&($t.delete(t),t.i(e))}function Et(t,e,l,n){const{fragment:o,after_update:i}=t.$$;o&&o.m(e,l),n||X(()=>{const s=t.$$.on_mount.map(dt).filter(ft);t.$$.on_destroy?t.$$.on_destroy.push(...s):j(s),t.$$.on_mount=[]}),i.forEach(X)}function Dt(t,e){const l=t.$$;l.fragment!==null&&(j(l.on_destroy),l.fragment&&l.fragment.d(e),l.on_destroy=l.fragment=null,l.ctx=[])}function St(t,e){t.$$.dirty[0]===-1&&(U.push(t),vt(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Lt(t,e,l,n,o,i,s,v=[-1]){const f=et;W(t);const c=t.$$={fragment:null,ctx:[],props:i,update:q,not_equal:o,bound:nt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(f?f.$$.context:[])),callbacks:nt(),dirty:v,skip_bound:!1,root:e.target||f.$$.root};s&&s(c.root);let _=!1;if(c.ctx=l?l(t,e.props||{},(w,E,...h)=>{const p=h.length?h[0]:E;return c.ctx&&o(c.ctx[w],c.ctx[w]=p)&&(!c.skip_bound&&c.bound[w]&&c.bound[w](p),_&&St(t,w)),E}):[],c.update(),_=!0,j(c.before_update),c.fragment=n?n(c.ctx):!1,e.target){if(e.hydrate){const w=yt(e.target);c.fragment&&c.fragment.l(w),w.forEach(M)}else c.fragment&&c.fragment.c();e.intro&&Ct(t.$$.fragment),Et(t,e.target,e.anchor,e.customElement),ht()}W(f)}class Mt{$destroy(){Dt(this,1),this.$destroy=q}$on(e,l){if(!ft(l))return q;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(l),()=>{const o=n.indexOf(l);o!==-1&&n.splice(o,1)}}$set(e){this.$$set&&!kt(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const ot=[{title:"Reopening - Normal Hours",date:"2022-01-05"},{title:"Queer Community Night",date:"2022-12-14",text:["All-gender bathing","2pm - 9pm"]},{date:"2022-12-21",title:"Closed for Winter Break"},{date:"2022-12-20",title:"Winter Solstice Celebration",text:["Bathing from first light"]},{date:"2022-12-05",title:"Bread Soup Cake",text:["7pm - 10px","$25","*Bathing will close early at 6:30pm"]},{date:["2022-11-24","2022-11-25"],title:"Closed for Thanksgiving"},{date:"2022-11-12",title:"Closing early at 7pm"},{date:"2022-11-07",title:"Bread Soup Cake",text:["7pm - 10px","$25","*Bathing will close early at 6:30pm"]}];function at(t,e,l){const n=t.slice();return n[25]=e[l],n[27]=l,n}function st(t,e,l){const n=t.slice();return n[28]=e[l],n[29]=e,n[30]=l,n}function Nt(t){let e,l,n=t[25].dateString+"",o,i,s,v,f,c,_;function w(...h){return t[16](t[27],...h)}function E(){return t[17](t[27])}return{c(){e=m("span"),l=m("span"),o=K(n),i=L(),s=m("button"),s.textContent="+",v=L(),f=m("span"),f.textContent="-",N(e,"class","date svelte-rzaa1g"),N(f,"class","spaced svelte-rzaa1g")},m(h,p){B(h,e,p),g(e,l),g(l,o),B(h,i,p),B(h,s,p),B(h,v,p),B(h,f,p),c||(_=[S(e,"keyup",Tt),S(e,"click",w),S(s,"click",E)],c=!0)},p(h,p){t=h,p&1&&n!==(n=t[25].dateString+"")&&Y(o,n)},d(h){h&&M(e),h&&M(i),h&&M(s),h&&M(v),h&&M(f),c=!1,j(_)}}}function Bt(t){let e,l,n=t[25].dateString.split(" through ")[0]+"",o,i,s,v,f,c,_,w,E=t[25].dateString.split(" through ")[1]+"",h,p,k,A,y,O,G;function J(){return t[12](t[27])}function I(...$){return t[13](t[27],...$)}function H(){return t[14](t[27])}function z(...$){return t[15](t[27],...$)}return{c(){e=m("span"),l=m("span"),o=K(n),i=L(),s=m("button"),s.textContent="-",v=L(),f=m("span"),f.textContent="through",c=L(),_=m("span"),w=m("span"),h=K(E),p=L(),k=m("button"),k.textContent="-",A=L(),y=m("span"),y.textContent="-",N(e,"class","date svelte-rzaa1g"),N(f,"class","spaced svelte-rzaa1g"),N(_,"class","date svelte-rzaa1g"),N(y,"class","spaced svelte-rzaa1g")},m($,b){B($,e,b),g(e,l),g(l,o),g(e,i),g(e,s),B($,v,b),B($,f,b),B($,c,b),B($,_,b),g(_,w),g(w,h),g(_,p),g(_,k),B($,A,b),B($,y,b),O||(G=[S(s,"click",J),S(e,"keyup",At),S(e,"click",I),S(k,"click",H),S(_,"keyup",Ot),S(_,"click",z)],O=!0)},p($,b){t=$,b&1&&n!==(n=t[25].dateString.split(" through ")[0]+"")&&Y(o,n),b&1&&E!==(E=t[25].dateString.split(" through ")[1]+"")&&Y(h,E)},d($){$&&M(e),$&&M(v),$&&M(f),$&&M(c),$&&M(_),$&&M(A),$&&M(y),O=!1,j(G)}}}function it(t){let e,l=[...t[25].text],n=[];for(let o=0;o<l.length;o+=1)n[o]=ct(st(t,l,o));return{c(){e=m("div");for(let o=0;o<n.length;o+=1)n[o].c();N(e,"class","text svelte-rzaa1g")},m(o,i){B(o,e,i);for(let s=0;s<n.length;s+=1)n[s].m(e,null)},p(o,i){if(i&65){l=[...o[25].text];let s;for(s=0;s<l.length;s+=1){const v=st(o,l,s);n[s]?n[s].p(v,i):(n[s]=ct(v),n[s].c(),n[s].m(e,null))}for(;s<n.length;s+=1)n[s].d(1);n.length=l.length}},d(o){o&&M(e),pt(n,o)}}}function ct(t){let e,l,n,o,i;function s(){t[19].call(l,t[29],t[30])}function v(...f){return t[20](t[27],t[30],...f)}return{c(){e=m("div"),l=m("span"),n=L(),N(l,"contenteditable","true"),N(l,"class","text"),N(l,"id",`text-${t[27]}-${t[30]}`),t[28]===void 0&&X(s),N(e,"class","text-entry svelte-rzaa1g")},m(f,c){B(f,e,c),g(e,l),t[28]!==void 0&&(l.innerHTML=t[28]),g(e,n),o||(i=[S(l,"input",s),S(l,"keyup",Ht),S(l,"click",v)],o=!0)},p(f,c){t=f,c&1&&t[28]!==l.innerHTML&&(l.innerHTML=t[28])},d(f){f&&M(e),o=!1,j(i)}}}function ut(t){let e,l,n,o,i,s,v,f,c,_=t[25].title+"",w,E,h,p,k,A,y,O,G;function J(){return t[11](t[25])}function I(T,r){return r&1&&(s=null),s==null&&(s=!!Array.isArray(T[25].date)),s?Bt:Nt}let H=I(t,-1),z=H(t);function $(...T){return t[18](t[27],...T)}let b=t[25].text&&it(t);function Z(){return t[21](t[27])}return{c(){e=m("div"),l=m("button"),l.innerHTML='<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1 1L15 15" stroke-width="2" class="svelte-rzaa1g"></path><path d="M15 1L1 15" stroke-width="2" class="svelte-rzaa1g"></path></svg>',n=L(),o=m("p"),i=m("b"),z.c(),v=L(),f=m("span"),c=m("span"),w=K(_),E=L(),b&&b.c(),h=L(),p=m("button"),p.innerHTML='<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M8 1V15" stroke="black" stroke-width="2" class="svelte-rzaa1g"></path><path d="M1 8H15" stroke="black" stroke-width="2" class="svelte-rzaa1g"></path></svg>',k=L(),A=m("br"),y=L(),N(l,"class","close svelte-rzaa1g"),N(i,"class","title svelte-rzaa1g"),N(p,"class","add-button svelte-rzaa1g"),N(e,"class","controlBox svelte-rzaa1g")},m(T,r){B(T,e,r),g(e,l),g(e,n),g(e,o),g(o,i),z.m(i,null),g(i,v),g(i,f),g(f,c),g(c,w),g(o,E),b&&b.m(o,null),g(o,h),g(o,p),g(o,k),g(o,A),g(e,y),O||(G=[S(l,"click",J),S(f,"keyup",jt),S(f,"click",$),S(p,"click",Z)],O=!0)},p(T,r){t=T,H===(H=I(t,r))&&z?z.p(t,r):(z.d(1),z=H(t),z&&(z.c(),z.m(i,v))),r&1&&_!==(_=t[25].title+"")&&Y(w,_),t[25].text?b?b.p(t,r):(b=it(t),b.c(),b.m(o,h)):b&&(b.d(1),b=null)},d(T){T&&M(e),z.d(),b&&b.d(),O=!1,j(G)}}}function zt(t){let e,l,n,o,i,s,v,f,c,_,w,E,h=[...t[0]],p=[];for(let k=0;k<h.length;k+=1)p[k]=ut(at(t,h,k));return{c(){e=m("div"),l=m("h1"),l.textContent="Manage events here:",n=L(),o=m("button"),o.textContent="reset",i=L(),s=m("button"),s.textContent="add new",v=L(),f=m("button"),f.textContent="output events JSON",c=L(),_=m("div");for(let k=0;k<p.length;k+=1)p[k].c();N(_,"class","events"),N(e,"class","manage svelte-rzaa1g")},m(k,A){B(k,e,A),g(e,l),g(e,n),g(e,o),g(e,i),g(e,s),g(e,v),g(e,f),g(e,c),g(e,_);for(let y=0;y<p.length;y+=1)p[y].m(_,null);w||(E=[S(o,"click",t[2]),S(s,"click",t[3]),S(f,"click",t[10])],w=!0)},p(k,[A]){if(A&1011){h=[...k[0]];let y;for(y=0;y<h.length;y+=1){const O=at(k,h,y);p[y]?p[y].p(O,A):(p[y]=ut(O),p[y].c(),p[y].m(_,null))}for(;y<p.length;y+=1)p[y].d(1);p.length=h.length}},i:q,o:q,d(k){k&&M(e),pt(p,k),w=!1,j(E)}}}const At=()=>{},Ot=()=>{},Tt=()=>{},jt=()=>{},Ht=()=>{};function Ft(t,e,l){let n;const o=r=>r.map(a=>{const u=Array.isArray(a.date),d=C=>{const D=new Date(C);return D instanceof Date?`${D.getMonth()+1}/${D.getDate()+1}`:""};return u?{...a,dateString:`${d(a.date[0])} through ${d(a.date[1])}`}:{...a,dateString:d(a.date)}}).sort((a,u)=>{const d=new Date(a.date),C=new Date(u.date);return d<C?1:-1}),i=r=>{l(0,n=n.filter(a=>a!==r))},s=()=>{l(0,n=o(ot))},v=r=>{const a=r?new Date(r):new Date,u=a.getFullYear().toString(),d=(a.getMonth()+1).toString(),C=a.getDate().toString();return u+"-"+(d[1]?d:"0"+d[0])+"-"+(C[1]?C:"0"+C[0])},f=()=>{const r=v(),a=new Date(r);l(0,n=[{title:"New Event",date:r,dateString:`${a.getMonth()+1}/${a.getDate()+1}`,text:[]},...n])},c=(r,a,u)=>{if(document.getElementById(`date-${a}`))return;const d=document.createElement("input");d.type="date",d.value=u===void 0?n[a].date:n[a].date[u],d.id=`date-${a}`;const C=E();d.addEventListener("change",P=>{const F=new Date(d.value);if(u){let R="";u===0?R=`${F.getMonth()+1}/${F.getDate()+1} through ${n[a].dateString.split(" through ")[1]}`:R=`${n[a].dateString.split(" through ")[0]} through ${F.getMonth()+1}/${F.getDate()+1}`,l(0,n[a]={...n[a],date:n[a].date.map((gt,_t)=>_t===u?d.value:gt),dateString:R},n)}else l(0,n[a]={...n[a],date:d.value,dateString:`${F.getMonth()+1}/${F.getDate()+1}`},n);C.remove(),d.remove(),console.log(r.target),r.target.style.display="inherit"});const D=document.createElement("div");C.addEventListener("click",P=>{P.preventDefault(),C.remove(),d.remove(),r.target.style.display="inherit"}),D.appendChild(d),D.appendChild(C),r.target.style.display="none",r.target.parentNode?r.target.parentNode.appendChild(D):r.target.appendChild(D)},_=(r,a)=>{if(document.getElementById(`title-${a}`))return;const u=document.createElement("input");u.type="text",u.id=`title-${a}`,u.value=n[a].title;const d=E();u.addEventListener("change",D=>{u.value.length&&(d.remove(),l(0,n[a]={...n[a],title:u.value},n)),u.remove(),r.target.style.display="inherit"}),r.target.style.display="none";const C=document.createElement("div");d.addEventListener("click",D=>{D.preventDefault(),d.remove(),u.remove(),r.target.style.display="inherit"}),C.appendChild(u),C.appendChild(d),r.target.parentNode?r.target.parentNode.appendChild(C):r.target.appendChild(C)},w=(r,a,u)=>{if(document.getElementById(`text-input-${a}-${u}`))return;const d=document.createElement("input");d.type="text",d.id=`text-input-${a}-${u}`,d.value=n[a].text[u],d.style.width="fit-content";const C=E();d.addEventListener("change",P=>{l(0,n[a]={...n[a],text:n[a].text.map((F,R)=>R===u?d.value:F)},n),d.remove(),C.remove(),r.target.style.display="inherit"}),r.target.style.display="none";const D=document.createElement("div");C.addEventListener("click",P=>{P.preventDefault(),C.remove(),d.remove(),r.target.style.display="inherit"}),D.appendChild(d),D.appendChild(C),r.target.parentNode?r.target.parentNode.appendChild(D):r.target.appendChild(D)},E=()=>{const r=document.createElement("button");return r.innerText="x",r},h=r=>{l(0,n[r]={...n[r],text:n[r].text?[...n[r].text,"..."]:["..."]},n)},p=r=>{const a=v(),u=new Date(a);l(0,n[r].date=[...n[r].date,a],n),l(0,n[r].dateString=`${n[r].dateString} through ${u.getMonth()+1}/${u.getDate()+1}`,n)},k=(r,a)=>{const u=a===0?1:0,d=v(n[r].date[u]);l(0,n[r]={...n[r],date:d,dateString:n[r].dateString.split(" through ")[u]},n)},A=()=>{const r=n.map(d=>{const{dateString:C,...D}=d;return D}),a="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(r)),u=document.createElement("a");u.setAttribute("href",a),u.setAttribute("download","events.json"),document.body.appendChild(u),u.click(),u.remove()},y=r=>i(r),O=r=>k(r,0),G=(r,a)=>c(a,r,0),J=r=>k(r,1),I=(r,a)=>c(a,r,1),H=(r,a)=>c(a,r),z=r=>p(r),$=(r,a)=>_(a,r);function b(r,a){r[a]=this.innerHTML,l(0,n)}const Z=(r,a,u)=>w(u,r,a),T=r=>h(r);return l(0,n=o(ot)),[n,i,s,f,c,_,w,h,p,k,A,y,O,G,J,I,H,z,$,b,Z,T]}class Gt extends Mt{constructor(e){super(),Lt(this,e,Ft,zt,mt,{})}}new Gt({target:document.getElementById("app")});
