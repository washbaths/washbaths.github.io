(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function l(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerpolicy&&(i.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?i.credentials="include":r.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(r){if(r.ep)return;r.ep=!0;const i=l(r);fetch(r.href,i)}})();function K(){}function dt(t){return t()}function nt(){return Object.create(null)}function H(t){t.forEach(dt)}function ft(t){return typeof t=="function"}function mt(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function kt(t){return Object.keys(t).length===0}function g(t,e){t.appendChild(e)}function N(t,e,l){t.insertBefore(e,l||null)}function M(t){t.parentNode&&t.parentNode.removeChild(t)}function pt(t,e){for(let l=0;l<t.length;l+=1)t[l]&&t[l].d(e)}function m(t){return document.createElement(t)}function V(t){return document.createTextNode(t)}function L(){return V(" ")}function S(t,e,l,n){return t.addEventListener(e,l,n),()=>t.removeEventListener(e,l,n)}function B(t,e,l){l==null?t.removeAttribute(e):t.getAttribute(e)!==l&&t.setAttribute(e,l)}function yt(t){return Array.from(t.childNodes)}function Q(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}let et;function q(t){et=t}const W=[],lt=[],z=[],ot=[],bt=Promise.resolve();let tt=!1;function vt(){tt||(tt=!0,bt.then(ht))}function X(t){z.push(t)}const x=new Set;let Y=0;function ht(){const t=et;do{for(;Y<W.length;){const e=W[Y];Y++,q(e),wt(e.$$)}for(q(null),W.length=0,Y=0;lt.length;)lt.pop()();for(let e=0;e<z.length;e+=1){const l=z[e];x.has(l)||(x.add(l),l())}z.length=0}while(W.length);for(;ot.length;)ot.pop()();tt=!1,x.clear(),q(t)}function wt(t){if(t.fragment!==null){t.update(),H(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(X)}}const $t=new Set;function Ct(t,e){t&&t.i&&($t.delete(t),t.i(e))}function Et(t,e,l,n){const{fragment:r,after_update:i}=t.$$;r&&r.m(e,l),n||X(()=>{const a=t.$$.on_mount.map(dt).filter(ft);t.$$.on_destroy?t.$$.on_destroy.push(...a):H(a),t.$$.on_mount=[]}),i.forEach(X)}function Dt(t,e){const l=t.$$;l.fragment!==null&&(H(l.on_destroy),l.fragment&&l.fragment.d(e),l.on_destroy=l.fragment=null,l.ctx=[])}function St(t,e){t.$$.dirty[0]===-1&&(W.push(t),vt(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Lt(t,e,l,n,r,i,a,v=[-1]){const f=et;q(t);const c=t.$$={fragment:null,ctx:[],props:i,update:K,not_equal:r,bound:nt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(f?f.$$.context:[])),callbacks:nt(),dirty:v,skip_bound:!1,root:e.target||f.$$.root};a&&a(c.root);let _=!1;if(c.ctx=l?l(t,e.props||{},(w,E,...h)=>{const p=h.length?h[0]:E;return c.ctx&&r(c.ctx[w],c.ctx[w]=p)&&(!c.skip_bound&&c.bound[w]&&c.bound[w](p),_&&St(t,w)),E}):[],c.update(),_=!0,H(c.before_update),c.fragment=n?n(c.ctx):!1,e.target){if(e.hydrate){const w=yt(e.target);c.fragment&&c.fragment.l(w),w.forEach(M)}else c.fragment&&c.fragment.c();e.intro&&Ct(t.$$.fragment),Et(t,e.target,e.anchor,e.customElement),ht()}q(f)}class Mt{$destroy(){Dt(this,1),this.$destroy=K}$on(e,l){if(!ft(l))return K;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(l),()=>{const r=n.indexOf(l);r!==-1&&n.splice(r,1)}}$set(e){this.$$set&&!kt(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const rt=[{date:"2022-11-07",title:"Bread Soup Cake",text:["7pm - 10px","$25","*Bathing will close early at 6:30pm"]},{date:"2022-11-12",title:"Closing early at 7pm"},{date:["2022-11-24","2022-11-25"],title:"Closed for Thanksgiving"},{date:"2022-12-05",title:"Bread Soup Cake",text:["7pm - 10px","$25","*Bathing will close early at 6:30pm"]},{date:"2022-12-20",title:"Winter Solstice Celebration",text:["Bathing from first light"]},{date:"2022-12-21",title:"Closed for Winter Break"}];function st(t,e,l){const n=t.slice();return n[25]=e[l],n[27]=l,n}function at(t,e,l){const n=t.slice();return n[28]=e[l],n[29]=e,n[30]=l,n}function Bt(t){let e,l,n=t[25].dateString+"",r,i,a,v,f,c,_;function w(...h){return t[16](t[27],...h)}function E(){return t[17](t[27])}return{c(){e=m("span"),l=m("span"),r=V(n),i=L(),a=m("button"),a.textContent="+",v=L(),f=m("span"),f.textContent="-",B(e,"class","date svelte-uo32sg"),B(f,"class","spaced svelte-uo32sg")},m(h,p){N(h,e,p),g(e,l),g(l,r),N(h,i,p),N(h,a,p),N(h,v,p),N(h,f,p),c||(_=[S(e,"keyup",jt),S(e,"click",w),S(a,"click",E)],c=!0)},p(h,p){t=h,p&1&&n!==(n=t[25].dateString+"")&&Q(r,n)},d(h){h&&M(e),h&&M(i),h&&M(a),h&&M(v),h&&M(f),c=!1,H(_)}}}function Nt(t){let e,l,n=t[25].dateString.split(" through ")[0]+"",r,i,a,v,f,c,_,w,E=t[25].dateString.split(" through ")[1]+"",h,p,k,O,y,T,G;function P(){return t[12](t[27])}function J(...$){return t[13](t[27],...$)}function I(){return t[14](t[27])}function A(...$){return t[15](t[27],...$)}return{c(){e=m("span"),l=m("span"),r=V(n),i=L(),a=m("button"),a.textContent="-",v=L(),f=m("span"),f.textContent="through",c=L(),_=m("span"),w=m("span"),h=V(E),p=L(),k=m("button"),k.textContent="-",O=L(),y=m("span"),y.textContent="-",B(e,"class","date svelte-uo32sg"),B(f,"class","spaced svelte-uo32sg"),B(_,"class","date svelte-uo32sg"),B(y,"class","spaced svelte-uo32sg")},m($,b){N($,e,b),g(e,l),g(l,r),g(e,i),g(e,a),N($,v,b),N($,f,b),N($,c,b),N($,_,b),g(_,w),g(w,h),g(_,p),g(_,k),N($,O,b),N($,y,b),T||(G=[S(a,"click",P),S(e,"keyup",Ot),S(e,"click",J),S(k,"click",I),S(_,"keyup",Tt),S(_,"click",A)],T=!0)},p($,b){t=$,b&1&&n!==(n=t[25].dateString.split(" through ")[0]+"")&&Q(r,n),b&1&&E!==(E=t[25].dateString.split(" through ")[1]+"")&&Q(h,E)},d($){$&&M(e),$&&M(v),$&&M(f),$&&M(c),$&&M(_),$&&M(O),$&&M(y),T=!1,H(G)}}}function it(t){let e,l=[...t[25].text],n=[];for(let r=0;r<l.length;r+=1)n[r]=ct(at(t,l,r));return{c(){e=m("div");for(let r=0;r<n.length;r+=1)n[r].c();B(e,"class","text svelte-uo32sg")},m(r,i){N(r,e,i);for(let a=0;a<n.length;a+=1)n[a].m(e,null)},p(r,i){if(i&65){l=[...r[25].text];let a;for(a=0;a<l.length;a+=1){const v=at(r,l,a);n[a]?n[a].p(v,i):(n[a]=ct(v),n[a].c(),n[a].m(e,null))}for(;a<n.length;a+=1)n[a].d(1);n.length=l.length}},d(r){r&&M(e),pt(n,r)}}}function ct(t){let e,l,n,r,i;function a(){t[19].call(l,t[29],t[30])}function v(...f){return t[20](t[27],t[30],...f)}return{c(){e=m("div"),l=m("span"),n=L(),B(l,"contenteditable","true"),B(l,"class","text"),B(l,"id",`text-${t[27]}-${t[30]}`),t[28]===void 0&&X(a),B(e,"class","text-entry svelte-uo32sg")},m(f,c){N(f,e,c),g(e,l),t[28]!==void 0&&(l.innerHTML=t[28]),g(e,n),r||(i=[S(l,"input",a),S(l,"keyup",It),S(l,"click",v)],r=!0)},p(f,c){t=f,c&1&&t[28]!==l.innerHTML&&(l.innerHTML=t[28])},d(f){f&&M(e),r=!1,H(i)}}}function ut(t){let e,l,n,r,i,a,v,f,c,_=t[25].title+"",w,E,h,p,k,O,y,T,G;function P(){return t[11](t[25])}function J(j,o){return o&1&&(a=null),a==null&&(a=!!Array.isArray(j[25].date)),a?Nt:Bt}let I=J(t,-1),A=I(t);function $(...j){return t[18](t[27],...j)}let b=t[25].text&&it(t);function Z(){return t[21](t[27])}return{c(){e=m("div"),l=m("button"),l.innerHTML='<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1 1L15 15" stroke-width="2" class="svelte-uo32sg"></path><path d="M15 1L1 15" stroke-width="2" class="svelte-uo32sg"></path></svg>',n=L(),r=m("p"),i=m("b"),A.c(),v=L(),f=m("span"),c=m("span"),w=V(_),E=L(),b&&b.c(),h=L(),p=m("button"),p.innerHTML='<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M8 1V15" stroke="black" stroke-width="2" class="svelte-uo32sg"></path><path d="M1 8H15" stroke="black" stroke-width="2" class="svelte-uo32sg"></path></svg>',k=L(),O=m("br"),y=L(),B(l,"class","close svelte-uo32sg"),B(i,"class","title svelte-uo32sg"),B(p,"class","add-button svelte-uo32sg"),B(e,"class","controlBox svelte-uo32sg")},m(j,o){N(j,e,o),g(e,l),g(e,n),g(e,r),g(r,i),A.m(i,null),g(i,v),g(i,f),g(f,c),g(c,w),g(r,E),b&&b.m(r,null),g(r,h),g(r,p),g(r,k),g(r,O),g(e,y),T||(G=[S(l,"click",P),S(f,"keyup",Ht),S(f,"click",$),S(p,"click",Z)],T=!0)},p(j,o){t=j,I===(I=J(t,o))&&A?A.p(t,o):(A.d(1),A=I(t),A&&(A.c(),A.m(i,v))),o&1&&_!==(_=t[25].title+"")&&Q(w,_),t[25].text?b?b.p(t,o):(b=it(t),b.c(),b.m(r,h)):b&&(b.d(1),b=null)},d(j){j&&M(e),A.d(),b&&b.d(),T=!1,H(G)}}}function At(t){let e,l,n,r,i,a,v,f,c,_,w,E,h=[...t[0]],p=[];for(let k=0;k<h.length;k+=1)p[k]=ut(st(t,h,k));return{c(){e=m("div"),l=m("h1"),l.textContent="Manage events here:",n=L(),r=m("button"),r.textContent="reset",i=L(),a=m("button"),a.textContent="add new",v=L(),f=m("button"),f.textContent="output events JSON",c=L(),_=m("div");for(let k=0;k<p.length;k+=1)p[k].c();B(_,"class","events"),B(e,"class","manage svelte-uo32sg")},m(k,O){N(k,e,O),g(e,l),g(e,n),g(e,r),g(e,i),g(e,a),g(e,v),g(e,f),g(e,c),g(e,_);for(let y=0;y<p.length;y+=1)p[y].m(_,null);w||(E=[S(r,"click",t[2]),S(a,"click",t[3]),S(f,"click",t[10])],w=!0)},p(k,[O]){if(O&1011){h=[...k[0]];let y;for(y=0;y<h.length;y+=1){const T=st(k,h,y);p[y]?p[y].p(T,O):(p[y]=ut(T),p[y].c(),p[y].m(_,null))}for(;y<p.length;y+=1)p[y].d(1);p.length=h.length}},i:K,o:K,d(k){k&&M(e),pt(p,k),w=!1,H(E)}}}const Ot=()=>{},Tt=()=>{},jt=()=>{},Ht=()=>{},It=()=>{};function Ft(t,e,l){let n;const r=o=>o.map(s=>{const d=Array.isArray(s.date),u=C=>{const D=new Date(C);return D instanceof Date?`${D.getMonth()+1}/${D.getDate()+1}`:""};return d?{...s,dateString:`${u(s.date[0])} through ${u(s.date[1])}`}:{...s,dateString:u(s.date)}}).sort((s,d)=>{const u=new Date(s.date),C=new Date(d.date);return u<C?1:-1}),i=o=>{l(0,n=n.filter(s=>s!==o))},a=()=>{l(0,n=r(rt))},v=o=>{const s=o?new Date(o):new Date,d=s.getFullYear().toString(),u=(s.getMonth()+1).toString(),C=s.getDate().toString();return d+"-"+(u[1]?u:"0"+u[0])+"-"+(C[1]?C:"0"+C[0])},f=()=>{const o=v(),s=new Date(o);l(0,n=[{title:"New Event",date:o,dateString:`${s.getMonth()+1}/${s.getDate()+1}`,text:[]},...n])},c=(o,s,d)=>{if(document.getElementById(`date-${s}`))return;const u=document.createElement("input");u.type="date",u.value=n[s].date,u.id=`date-${s}`;const C=E();u.addEventListener("change",R=>{const F=new Date(u.value);if(d){let U="";d===0?U=`${F.getMonth()+1}/${F.getDate()+1} through ${n[s].dateString.split(" through ")[1]}`:U=`${n[s].dateString.split(" through ")[0]} through ${F.getMonth()+1}/${F.getDate()+1}`,l(0,n[s]={...n[s],date:n[s].date.map((gt,_t)=>_t===d?u.value:gt),dateString:U},n)}else l(0,n[s]={...n[s],date:u.value,dateString:`${F.getMonth()+1}/${F.getDate()+1}`},n);C.remove(),u.remove(),console.log(o.target),o.target.style.display="inherit"});const D=document.createElement("div");C.addEventListener("click",R=>{R.preventDefault(),C.remove(),u.remove(),o.target.style.display="inherit"}),D.appendChild(u),D.appendChild(C),o.target.style.display="none",o.target.parentNode?o.target.parentNode.appendChild(D):o.target.appendChild(D)},_=(o,s)=>{if(document.getElementById(`title-${s}`))return;const d=document.createElement("input");d.type="text",d.id=`title-${s}`,d.value=n[s].title;const u=E();d.addEventListener("change",D=>{d.value.length&&(u.remove(),l(0,n[s]={...n[s],title:d.value},n)),d.remove(),o.target.style.display="inherit"}),o.target.style.display="none";const C=document.createElement("div");u.addEventListener("click",D=>{D.preventDefault(),u.remove(),d.remove(),o.target.style.display="inherit"}),C.appendChild(d),C.appendChild(u),o.target.parentNode?o.target.parentNode.appendChild(C):o.target.appendChild(C)},w=(o,s,d)=>{if(document.getElementById(`text-input-${s}-${d}`))return;const u=document.createElement("input");u.type="text",u.id=`text-input-${s}-${d}`,u.value=n[s].text[d],u.style.width="fit-content";const C=E();u.addEventListener("change",R=>{l(0,n[s]={...n[s],text:n[s].text.map((F,U)=>U===d?u.value:F)},n),u.remove(),C.remove(),o.target.style.display="inherit"}),o.target.style.display="none";const D=document.createElement("div");C.addEventListener("click",R=>{R.preventDefault(),C.remove(),u.remove(),o.target.style.display="inherit"}),D.appendChild(u),D.appendChild(C),o.target.parentNode?o.target.parentNode.appendChild(D):o.target.appendChild(D)},E=()=>{const o=document.createElement("button");return o.innerText="x",o},h=o=>{l(0,n[o]={...n[o],text:n[o].text?[...n[o].text,"..."]:["..."]},n)},p=o=>{const s=v(),d=new Date(s);l(0,n[o].date=[...n[o].date,s],n),l(0,n[o].dateString=`${n[o].dateString} through ${d.getMonth()+1}/${d.getDate()+1}`,n)},k=(o,s)=>{const d=s===0?1:0,u=v(n[o].date[d]);l(0,n[o]={...n[o],date:u,dateString:n[o].dateString.split(" through ")[d]},n)},O=()=>{const o=n.map(u=>{const{dateString:C,...D}=u;return D}),s="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(o)),d=document.createElement("a");d.setAttribute("href",s),d.setAttribute("download","events.json"),document.body.appendChild(d),d.click(),d.remove()},y=o=>i(o),T=o=>k(o,0),G=(o,s)=>c(s,o,0),P=o=>k(o,1),J=(o,s)=>c(s,o,1),I=(o,s)=>c(s,o),A=o=>p(o),$=(o,s)=>_(s,o);function b(o,s){o[s]=this.innerHTML,l(0,n)}const Z=(o,s,d)=>w(d,o,s),j=o=>h(o);return l(0,n=r(rt)),[n,i,a,f,c,_,w,h,p,k,O,y,T,G,P,J,I,A,$,b,Z,j]}class Gt extends Mt{constructor(e){super(),Lt(this,e,Ft,At,mt,{})}}new Gt({target:document.getElementById("app")});
